<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Compliance Companion — Embed</title>
  <style>
    :root { color-scheme: light; }
    html, body { height: 100%; margin: 0; }
    body { font: 14px system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif; color: #111; background: #fafafa; }
    .wrap { height: 100%; display: grid; grid-template-rows: 48px 1fr 56px; }
    .topbar { background:#1f2937; color:#fff; display:flex; align-items:center; padding:0 12px; font-weight:600; }
    .log { font-size:12px; opacity:.85; margin-left:auto; }
    .chat { overflow:auto; padding:12px; background:#fff; }
    .msg { max-width: 85%; padding:10px 12px; border-radius:12px; margin:6px 0; line-height:1.35; box-shadow: 0 1px 0 rgba(0,0,0,.04); }
    .user { background:#eef2ff; margin-left:auto; border-top-right-radius:4px; }
    .bot { background:#f3f4f6; margin-right:auto; border-top-left-radius:4px; }
    .inputbar { background:#fff; border-top:1px solid #e5e7eb; padding:8px; display:flex; gap:8px; }
    .field { flex:1; border:1px solid #e5e7eb; border-radius:10px; padding:10px 12px; outline:none; }
    .btn { border:0; border-radius:10px; padding:10px 14px; font-weight:600; background:#1f2937; color:#fff; cursor:pointer; }
    .btn:disabled { opacity:.6; cursor:not-allowed; }
    .fine { font-size:12px; color:#6b7280; padding:6px 12px; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      Compliance Companion
      <span class="log" id="status">mock mode</span>
    </div>

    <div class="chat" id="chat">
      <div class="msg bot">Hi! Ask me about Rule 2210, disclosures, or exam tips.</div>
    </div>

    <form class="inputbar" id="form">
      <input class="field" id="input" placeholder="Type a message…" autocomplete="off" />
      <button class="btn" id="send">Send</button>
    </form>
  </div>

  <div class="fine">This is a placeholder UI. Next we’ll connect it to an API route.</div>

  <script>
    const chat = document.getElementById('chat');
    const form = document.getElementById('form');
    const input = document.getElementById('input');

    function append(text, role){
      const div = document.createElement('div');
      div.className = 'msg ' + (role === 'user' ? 'user' : 'bot');
      div.textContent = text;
      chat.appendChild(div);
      chat.scrollTop = chat.scrollHeight;
    }

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const text = (input.value || '').trim();
      if(!text) return;
      append(text, 'user');
      input.value = '';
      // mock reply
      setTimeout(() => {
        append('Mock: I’ll answer that once we connect the backend.', 'bot');
      }, 400);
    });
  </script>
</body>
</html>
